/* dark-theme.css */

:root {
    /* GitHub Dark Theme Inspired Variables */
    --gh-dark-bg: #0d1117;         /* Deep dark background */
    --gh-dark-header-bg: #161b22;  /* Slightly lighter header/card background */
    --gh-dark-border: #30363d;      /* Subtle borders */
    --gh-dark-text: #c9d1d9;        /* Primary light text */
    --gh-dark-secondary-text: #8b949e;/* Muted text for metadata */
    --gh-dark-link: #58a6ff;        /* Link color */
    --gh-dark-button-bg: #21262d;    /* Default button background */
    --gh-dark-button-hover-bg: #30363d;/* Default button hover background */
    --gh-dark-button-text: #c9d1d9;   /* Default button text */
    --gh-dark-green-btn-bg: #238636; /* Green button background */
    --gh-dark-green-btn-hover-bg: #2ea043; /* Green button hover */
    --gh-dark-green-btn-text: #ffffff; /* Green button text */
    --gh-dark-code-bg: #161b22;      /* Code block background (same as header/card) */
    --gh-dark-diff-add-bg: rgba(46, 160, 67, 0.15); /* Added lines background */
    --gh-dark-diff-del-bg: rgba(248, 81, 73, 0.15); /* Deleted lines background */
    --gh-dark-icon-color: #8b949e;     /* Default icon color */
    --gh-dark-active-item-bg: rgba(88, 166, 255, 0.15); /* Slightly more visible active state */
  }
  
  html[data-theme="dark"] {
  
    body {
      background-color: var(--gh-dark-bg);
      color: var(--gh-dark-text);
    }
  
    /* Navbar styling */
    .navbar {
      background-color: var(--gh-dark-header-bg) !important; /* Override bootstrap */
      border-bottom: 1px solid var(--gh-dark-border);
    }
    .navbar .navbar-brand,
    .navbar .nav-link,
    .navbar .navbar-text {
      color: var(--gh-dark-text);
    }
    .navbar #userInfo { /* Welcome message color */
       color: var(--gh-dark-secondary-text);
    }
    .navbar .nav-link:hover {
      color: #ffffff;
    }
    .navbar .navbar-toggler {
        border-color: var(--gh-dark-border);
    }
    .navbar .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(201, 209, 217, 0.75)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }
    .navbar .btn-outline-light { /* Logout button */
        color: var(--gh-dark-text);
        border-color: var(--gh-dark-border);
    }
    .navbar .btn-outline-light:hover {
        color: var(--gh-dark-text);
        background-color: var(--gh-dark-button-hover-bg);
        border-color: var(--gh-dark-secondary-text);
    }
  
  
    /* General Containers and Cards */
    .card, .container-card, .pr-header, .commit-header, .file-explorer,
    .code-container, .diff-section, .branch-dropdown-content,
    .modal-content, .list-group-item {
      background-color: var(--gh-dark-header-bg) !important;
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
    }
     .modal-header, .modal-footer {
       border-color: var(--gh-dark-border) !important;
     }
     .list-group-item:hover {
         background-color: var(--gh-dark-button-hover-bg) !important;
     }
     .list-group-item a {
         color: var(--gh-dark-link);
     }
  
     /* Headers within containers */
     .file-explorer-header, .diff-header, .code-header, .card-header,
     .commit-item .commit-header /* Style commit headers if reused */ {
       background-color: var(--gh-dark-header-bg); /* Match card background */
       border-bottom: 1px solid var(--gh-dark-border);
       color: var(--gh-dark-secondary-text);
     }
  
     /* Breadcrumb styling */
     .breadcrumb { /* Ensure base ol/nav is themed if needed */
        background-color: transparent; /* Assuming it sits on body bg */
     }
     .breadcrumb-item a {
       color: var(--gh-dark-link) !important;
     }
     .breadcrumb-item + .breadcrumb-item::before {
        color: var(--gh-dark-secondary-text); /* Darker separator */
     }
     .breadcrumb-item.active {
       color: var(--gh-dark-secondary-text) !important;
     }
  
     /* --- Commit Header Fixes --- */
     .commit-header .commit-title {
       color: var(--gh-dark-text); /* Ensure title is bright */
     }
     .commit-header .commit-meta {
       color: var(--gh-dark-secondary-text); /* Use secondary text for "committed on date" */
     }
     .commit-header .commit-meta .commit-user {
       color: var(--gh-dark-text); /* Make username primary text color */
       font-weight: 600;
     }
     .commit-header .commit-meta span#commitDate { /* Target the date span specifically */
         color: var(--gh-dark-secondary-text);
     }
  
     .commit-list { 
       background-color: var(--gh-dark-bg); /* Slightly darker than header */
       border: 1px solid var(--gh-dark-border);
       border-radius: 6px; /* Match other cards */
       margin-top: 1rem; /* Add some space */
     }
     .commit-list-item { /* Individual commit row */
        background-color: transparent; /* Inherit from .commit-list */
        border-bottom: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
        padding: 8px 12px;
     }
     .commit-list-item:last-child {
         border-bottom: none !important;
     }
     .commit-list-item:hover {
         background-color: var(--gh-dark-button-hover-bg) !important;
     }
     .commit-list-item .commit-hash .badge {
        background-color: var(--gh-dark-button-bg) !important;
        color: var(--gh-dark-text) !important;
        border: 1px solid var(--gh-dark-border);
        font-weight: normal; /* Override Bootstrap bold */
        font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
        padding: 0.3em 0.6em;
     }
     .commit-list-item .commit-message {
        color: var(--gh-dark-text);
        font-size: 14px;
     }
     .commit-list-item .commit-date {
        color: var(--gh-dark-secondary-text) !important; /* Ensure date is muted */
        font-size: 12px;
     }
  
  
     /* --- Commit Stats Bar Fix --- */
     .commit-stats {
       background-color: var(--gh-dark-header-bg) !important; /* Use card background */
       border: 1px solid var(--gh-dark-border) !important;
       border-radius: 6px;
       padding: 8px 16px;
       margin-bottom: 16px;
       display: flex;
       gap: 16px;
     }
     .commit-stats .stat-item {
         color: var(--gh-dark-text); /* Ensure text is light */
         display: flex;
         align-items: center;
         gap: 4px;
         font-size: 14px;
     }
     .commit-stats .stat-item i {
         color: var(--gh-dark-icon-color); /* Use default icon color initially */
         margin-right: 4px; /* Ensure spacing */
     }
     /* Specific icon colors are handled by .text-success/danger overrides below */
  
  
     /* Buttons styling */
     .gh-btn, .btn-outline-secondary, .branch-selector, .btn-secondary,
     .dropdown-toggle {
       background-color: var(--gh-dark-button-bg);
       border-color: var(--gh-dark-border);
       color: var(--gh-dark-button-text);
       box-shadow: none;
     }
     .gh-btn:hover, .btn-outline-secondary:hover, .branch-selector:hover, .btn-secondary:hover,
     .dropdown-toggle:hover {
       background-color: var(--gh-dark-button-hover-bg);
       border-color: var(--gh-dark-secondary-text);
       color: var(--gh-dark-text);
     }
  
     /* Specific Button Types (Green/Primary/Danger) */
     .btn-primary, .btn-success, .pr-submit-btn {
       background-color: var(--gh-dark-green-btn-bg);
       border-color: var(--gh-dark-green-btn-bg);
       color: var(--gh-dark-green-btn-text);
       filter: none;
     }
     .btn-primary:hover, .btn-success:hover, .pr-submit-btn:hover {
       background-color: var(--gh-dark-green-btn-hover-bg);
       border-color: var(--gh-dark-green-btn-hover-bg);
       color: var(--gh-dark-green-btn-text);
     }
      .btn-danger {
         background-color: #da3633;
         border-color: #da3633;
         color: #ffffff;
      }
      .btn-danger:hover {
         background-color: #b62324;
         border-color: #b62324;
         color: #ffffff;
      }
  
  
     /* --- File Sidebar Styling --- */
     .files-sidebar {
          background-color: var(--gh-dark-header-bg) !important;
          border: 1px solid var(--gh-dark-border) !important;
          border-radius: 6px;
          /* height: calc(100vh - 220px); */ /* Adjust height as needed or make it dynamic */
          display: flex;
          flex-direction: column;
          position: relative; /* Keep relative for potential future use, but button is fixed */
          overflow: hidden; /* Contains header and list */
     }
     .files-header {
          padding: 12px 16px;
          border-bottom: 1px solid var(--gh-dark-border) !important;
          font-weight: 600;
          background-color: var(--gh-dark-header-bg) !important; /* Match sidebar bg */
          color: var(--gh-dark-text) !important;
          flex-shrink: 0; /* Prevent header from shrinking */
     }
     .files-list {
          flex-grow: 1;
          overflow-y: auto;
          padding: 0;
          background-color: var(--gh-dark-header-bg) !important; /* Match sidebar bg */
     }
     /* Individual file item in sidebar */
     .file-item {
       padding: 8px 16px 8px 16px; /* Ensure consistent padding */
       border-bottom: 1px solid var(--gh-dark-border) !important;
       color: var(--gh-dark-text);
       cursor: pointer;
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 8px; /* Add gap between elements */
       background-color: transparent; /* Inherit from .files-list */
     }
     .file-item:last-child {
        border-bottom: none !important;
     }
     .file-item:hover {
       background-color: var(--gh-dark-button-hover-bg) !important;
     }
     .file-item.active {
        background-color: var(--gh-dark-active-item-bg) !important;
        /* border-left: 3px solid var(--gh-dark-link); */ /* Optional active indicator */
     }
     .file-item i.fa { /* Ensure icon has margin */
         margin-right: 8px;
         flex-shrink: 0;
     }
     .file-item .file-name {
       color: var(--gh-dark-link) !important;
       text-decoration: none;
       flex-grow: 1; /* Allow name to take space */
       white-space: nowrap;
       overflow: hidden;
       text-overflow: ellipsis;
       display: inline-block;
       vertical-align: middle;
       max-width: calc(100% - 80px); /* Adjust based on icon/changes width */
     }
      .file-item .file-name:hover {
         text-decoration: underline;
      }
      /* Tooltip on hover for long file names */
      .file-item .file-name[title]:hover::after {
        content: attr(title);
        position: fixed; /* Use fixed to escape sidebar overflow */
        /* position: absolute; */ /* Alternative if fixed causes issues */
        /* left: 100%; margin-left: 10px; top: 0; */
        transform: translate(10px, 10px); /* Position relative to cursor */
        z-index: 1100; /* Above button */
        background-color: #2d333b; /* Dark tooltip bg */
        color: #c9d1d9; /* Light tooltip text */
        padding: 5px 8px;
        border-radius: 3px;
        max-width: 350px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 12px;
        border: 1px solid #444c56;
        pointer-events: none; /* Prevent tooltip from blocking clicks */
      }
  
     .file-item .file-changes {
        display: flex;
        gap: 8px;
        font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
        font-size: 12px;
        flex-shrink: 0; /* Prevent shrinking */
        white-space: nowrap;
     }
     /* Colors for +Add/-Del set by .additions/.deletions below */
  
  
    /* Repo item styling (Dashboard etc.) */
    .repo-item {
      background-color: var(--gh-dark-header-bg) !important;
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
   }
    .repo-item .repo-name a {
       color: var(--gh-dark-link);
       text-decoration: none;
    }
    .repo-item .repo-name a:hover {
       text-decoration: underline;
    }
    .repo-item .repo-description,
    .repo-item .repo-info,
    .repo-item .repo-info-item {
       color: var(--gh-dark-secondary-text);
    }
    .repo-item .repo-info-item i {
       color: var(--gh-dark-secondary-text);
    }
    .repo-item:hover {
       background-color: var(--gh-dark-button-hover-bg) !important;
       border-color: var(--gh-dark-secondary-text) !important;
       transform: none;
    }
  
  
    /* Code styling */
    .code-content, pre, code, .code-blob,
    .github-modal-body {
      background-color: var(--gh-dark-bg) !important; /* Use main dark bg for code */
      color: var(--gh-dark-text) !important;
      border: none;
    }
     .code-blob .line-number {
        background-color: var(--gh-dark-header-bg); /* Line numbers slightly different background */
        color: var(--gh-dark-secondary-text);
        border-right: 1px solid var(--gh-dark-border);
     }
     .code-blob tr:hover .line-number,
     .code-blob tr:hover .line-content {
         background-color: rgba(88, 166, 255, 0.05); /* Subtle hover for code lines */
     }
  
  
    /* --- Diff View Styling --- */
    .diff-section { /* Container for each file's diff */
         background-color: var(--gh-dark-header-bg) !important;
         border: 1px solid var(--gh-dark-border) !important;
         border-radius: 6px;
         overflow: hidden;
         margin-bottom: 16px;
    }
    .diff-header { /* Header within diff section showing filename */
        padding: 8px 16px;
        background-color: var(--gh-dark-header-bg) !important; /* Match section bg */
        border-bottom: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
    }
     .diff-header .diff-file-header { /* Flex container */
        display: flex;
        justify-content: space-between;
        align-items: center;
     }
    .diff-header .diff-file-name {
         font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
         font-weight: 600;
         color: var(--gh-dark-text); /* Use primary text color */
    }
     .diff-header .diff-file-stats {
         display: flex;
         gap: 8px;
         font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
         font-size: 12px;
     }
     /* +Add / -Del colors handled by .additions/.deletions */
  
     .diff-content { /* Container for the table */
        overflow-x: auto;
        background-color: var(--gh-dark-bg); /* Darker background for the diff lines themselves */
     }
    .diff-table {
       width: 100%;
       border-collapse: collapse;
       font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
       font-size: 12px;
       line-height: 1.5;
       tab-size: 4;
       background-color: var(--gh-dark-bg); /* Match content area */
    }
    .diff-line { /* Table row */
       height: 20px;
       color: var(--gh-dark-text); /* Default text color */
    }
    .diff-line:hover {
         background-color: rgba(88, 166, 255, 0.05); /* Subtle hover for diff lines */
    }
    .diff-line td { /* Ensure table cells have correct border */
        border: none; /* Remove default borders */
        vertical-align: top;
        padding: 0; /* Reset padding */
    }
    .diff-line-num { /* Line number cell */
      min-width: 50px;
      padding: 0 10px;
      background-color: var(--gh-dark-header-bg); /* Lighter bg for numbers */
      color: var(--gh-dark-secondary-text) !important;
      text-align: right;
      white-space: nowrap;
      user-select: none;
      cursor: pointer; /* Optional: for potential line linking */
      border-right: 1px solid var(--gh-dark-border) !important;
    }
     .diff-line-num.new {
        border-right: 1px solid var(--gh-dark-border) !important; /* Ensure right border */
     }
  
    .diff-line-content { /* Code content cell */
       padding: 0 10px;
       white-space: pre;
       overflow: visible;
       color: var(--gh-dark-text);
    }
  
    .diff-line.added {
      background-color: var(--gh-dark-diff-add-bg) !important;
      color: var(--gh-dark-text); /* Ensure text is readable */
    }
    .diff-line.added .diff-line-num {
       background-color: rgba(46, 160, 67, 0.1);
       border-color: rgba(46, 160, 67, 0.3) !important;
       color: var(--gh-dark-secondary-text) !important; /* Keep number color muted */
    }
    .diff-line.removed {
      background-color: var(--gh-dark-diff-del-bg) !important;
      color: var(--gh-dark-text); /* Ensure text is readable */
    }
    .diff-line.removed .diff-line-num {
       background-color: rgba(248, 81, 73, 0.1);
       border-color: rgba(248, 81, 73, 0.3) !important;
       color: var(--gh-dark-secondary-text) !important; /* Keep number color muted */
    }
    .diff-line.diff-hunk-header { /* Hunk header styling (@@ ... @@) */
        background-color: rgba(88, 166, 255, 0.1) !important;
        color: var(--gh-dark-secondary-text);
        font-style: italic;
    }
     .diff-line.diff-hunk-header .diff-line-num {
        background-color: rgba(88, 166, 255, 0.15) !important;
        border-color: rgba(88, 166, 255, 0.3) !important;
        color: var(--gh-dark-secondary-text) !important;
        font-style: normal; /* Don't italicize numbers */
     }
     .diff-line.diff-hunk-header .diff-line-content {
         color: var(--gh-dark-secondary-text);
     }
  
  
    /* Tables */
    .table {
      color: var(--gh-dark-text) !important;
      border-color: var(--gh-dark-border) !important;
      background-color: var(--gh-dark-header-bg); /* Use card background for tables */
    }
     .table th, .table td {
        border-color: var(--gh-dark-border) !important;
     }
     .table thead th { /* Table header */
         color: var(--gh-dark-text);
         background-color: var(--gh-dark-bg); /* Darker header */
         border-color: var(--gh-dark-border) !important;
     }
     .table-striped > tbody > tr:nth-of-type(odd) > * {
        --bs-table-accent-bg: rgba(255, 255, 255, 0.03); /* Very subtle striping */
        color: var(--gh-dark-text);
     }
     .table-hover > tbody > tr:hover > * {
         --bs-table-accent-bg: rgba(255, 255, 255, 0.05);
         color: var(--gh-dark-text);
     }
  
  
    /* Form controls */
    input, select, textarea, .form-control, .form-select {
      background-color: var(--gh-dark-bg) !important; /* Darker background for forms */
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text) !important;
    }
     input::placeholder, textarea::placeholder {
        color: var(--gh-dark-secondary-text);
        opacity: 0.7;
     }
     input:focus, select:focus, textarea:focus, .form-control:focus, .form-select:focus {
        background-color: var(--gh-dark-bg) !important;
        color: var(--gh-dark-text) !important;
        border-color: var(--gh-dark-link) !important; /* Blue border on focus */
        box-shadow: 0 0 0 0.2rem rgba(88, 166, 255, 0.25);
     }
  
  
    /* Tabs styling */
    .nav-tabs {
      border-bottom-color: var(--gh-dark-border) !important;
    }
    .nav-tabs .nav-link {
      color: var(--gh-dark-secondary-text) !important;
      border: 1px solid transparent;
      border-bottom: none;
      background-color: transparent; /* Ensure no background */
    }
    .nav-tabs .nav-link:hover {
       border-color: var(--gh-dark-border) var(--gh-dark-border) transparent var(--gh-dark-border);
       color: var(--gh-dark-text) !important;
    }
    .nav-tabs .nav-link.active {
      background-color: var(--gh-dark-header-bg) !important; /* Match card bg */
      border-color: var(--gh-dark-border) var(--gh-dark-border) transparent var(--gh-dark-border) !important;
      color: var(--gh-dark-text) !important;
      font-weight: 600;
    }
  
  
    /* --- Sidebar Toggle Button --- */
    #toggleFilesBtn {
        background-color: var(--gh-dark-button-bg) !important;
        color: var(--gh-dark-button-text) !important;
        border: 1px solid var(--gh-dark-border) !important;
        /* Position is handled by base CSS now */
    }
     #toggleFilesBtn:hover {
         background-color: var(--gh-dark-button-hover-bg) !important;
         border-color: var(--gh-dark-secondary-text) !important;
     }
  
  
    /* Dropdown menus */
    .dropdown-menu {
      background-color: var(--gh-dark-header-bg) !important;
      border-color: var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
    }
    .dropdown-item {
      color: var(--gh-dark-text) !important;
    }
    .dropdown-item:hover, .dropdown-item:focus {
      background-color: var(--gh-dark-button-hover-bg) !important;
      color: var(--gh-dark-text) !important;
    }
     .dropdown-divider {
        border-top: 1px solid var(--gh-dark-border);
     }
     .dropdown-header {
         color: var(--gh-dark-secondary-text);
     }
  
    /* --- Icon Overrides --- */
    /* Default context icon color */
    body .fa, body .fas, body .far, body .fab { /* Base color if not otherwise specified */
        color: var(--gh-dark-icon-color);
    }
    /* Specific icon classes */
    .file-icon { color: var(--gh-dark-icon-color); }
    .dir-icon, .file-dir-icon { color: var(--gh-dark-link); } /* Blue for folders */
  
    /* Force important for text utilities often used on icons */
    .text-success, .additions, .fa-plus { color: #3fb950 !important; }
    .text-danger, .deletions, .fa-minus { color: #f85149 !important; }
    .text-warning { color: #d29922 !important; } /* Adjusted yellow */
    .text-primary { color: var(--gh-dark-link) !important; }
    .text-info { color: #79c0ff !important; } /* Light blue */
    .text-muted { color: var(--gh-dark-secondary-text) !important; }
    .text-light { color: var(--gh-dark-text) !important; } /* Remap */
  
    /* Specific icons in components */
    .stat-item i { color: var(--gh-dark-icon-color); }
    .stat-item i.text-success { color: #3fb950 !important; } /* Override default if needed */
    .stat-item i.text-danger { color: #f85149 !important; } /* Override default if needed */
  
    /* File icons in sidebar */
    .file-item i { /* Default icon in file list */
        color: var(--gh-dark-icon-color);
    }
    .file-item i.fa-file-code.text-warning { color: #d29922 !important; }
    .file-item i.fa-file-code.text-danger { color: #f85149 !important; }
    .file-item i.fa-file-code.text-primary { color: var(--gh-dark-link) !important; }
    .file-item i.fa-file-code.text-success { color: #3fb950 !important; }
    .file-item i.fa-file-alt { color: var(--gh-dark-secondary-text) !important; }
    .file-item i.fa-file-image { color: #a5d6ff !important; } /* Example image icon color */
  
    /* Icons inside buttons/links */
    a:hover .fa, button:hover .fa,
    a:hover .fas, button:hover .fas,
    a:hover .far, button:hover .far,
    a:hover .fab, button:hover .fab {
        color: var(--gh-dark-text); /* Ensure icon color changes with link/button hover */
    }
  
  
    /* Syntax highlighting (Placeholder - Adjust based on Highlight.js theme used) */
    /* Example using a GitHub dark-like style */
    pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}
    .hljs{color:#c9d1d9;background:#0d1117} /* Base text and bg */
    .hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72} /* Keywords, types */
    .hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff} /* Function/Class names */
    .hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#79c0ff} /* Numbers, attributes, variables */
    .hljs-regexp,.hljs-string,.hljs-symbol,.hljs-bullet,.hljs-link{color:#a5d6ff} /* Strings, regex */
    .hljs-built_in,.hljs-code,.hljs-comment,.hljs-formula,.hljs-meta .hljs-string,.hljs-section{color:#8b949e} /* Comments, built-ins */
    .hljs-meta,.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo,.hljs-subst,.hljs-tag{color:#7ee787} /* Tags, names */
    .hljs-emphasis{font-style:italic}
    .hljs-strong{font-weight:bold}
  
  
    /* General Text/BG Overrides */
    .text-dark { color: var(--gh-dark-text) !important; } /* Remap text-dark */
    .bg-light { background-color: var(--gh-dark-header-bg) !important; border-color: var(--gh-dark-border) !important; }
    .bg-white { background-color: var(--gh-dark-header-bg) !important; border-color: var(--gh-dark-border) !important;}
  
    /* Ensure spinners are visible */
    .spinner-border {
        color: var(--gh-dark-link); /* Use link color for spinner */
        border-color: var(--gh-dark-link);
        border-right-color: transparent;
    }
  

    #commitsList {
      background-color: var(--gh-dark-header-bg); /* Match card backgrounds */
      border-radius: 6px; /* Apply rounding if needed */
      border: 1px solid var(--gh-dark-border);
      color: var(--gh-dark-text);
  }

  /* Date Headers within commit list */
  #commitsList .list-group-item.bg-light {
      background-color: var(--gh-dark-bg) !important; /* Darker background for date separators */
      color: var(--gh-dark-secondary-text) !important; /* Muted text for dates */
      border-color: var(--gh-dark-border) !important; /* Ensure border matches */
      font-weight: 600;
  }

  /* Individual commit items */
  #commitsList .list-group-item.commit-item {
      background-color: var(--gh-dark-header-bg); /* Ensure item background matches */
      border-bottom: 1px solid var(--gh-dark-border) !important; /* Ensure separator */
      color: var(--gh-dark-text);
  }
  #commitsList .list-group-item.commit-item:last-child {
      border-bottom: none !important;
  }
  #commitsList .list-group-item.commit-item:hover {
      background-color: var(--gh-dark-button-hover-bg) !important; /* Use button hover bg */
  }

  /* Commit title link */
  #commitsList .commit-item .commit-title-link {
      color: var(--gh-dark-link) !important;
      font-weight: 600; /* Keep bold */
  }
   #commitsList .commit-item .commit-title-link:hover {
      text-decoration: underline;
  }


  /* Commit meta text (author, time) */
  #commitsList .commit-item .commit-meta {
      color: var(--gh-dark-secondary-text) !important;
  }
  #commitsList .commit-item .commit-meta strong {
      color: var(--gh-dark-text); /* Make author username brighter */
      font-weight: 600;
  }
   #commitsList .commit-item .commit-meta .avatar-img-small {
       filter: brightness(0.9); /* Slightly dim avatars */
   }


  /* Commit hash / view details button */
  #commitsList .commit-item .view-details-btn {
      background-color: var(--gh-dark-button-bg);
      border-color: var(--gh-dark-border);
      color: var(--gh-dark-secondary-text); /* Muted text for hash */
      font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
      font-size: 0.75rem;
  }
  #commitsList .commit-item .view-details-btn:hover {
      background-color: var(--gh-dark-button-hover-bg);
      border-color: var(--gh-dark-secondary-text);
      color: var(--gh-dark-link); /* Link color on hover */
  }
   #commitsList .commit-item .view-details-btn i {
       color: var(--gh-dark-icon-color); /* Ensure icon is themed */
   }


  /* --- Languages Section Styles --- */

  .languages-container {
      background-color: var(--gh-dark-header-bg) !important;
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
  }

  .languages-container .section-title {
      color: var(--gh-dark-text); /* Ensure title is light */
  }

  .language-item .language-name {
      color: var(--gh-dark-text); /* Ensure language name is light */
  }

  .language-item .language-percentage {
      color: var(--gh-dark-secondary-text); /* Ensure percentage is muted */
  }

  /* Improve loading bar visibility in dark theme */
  .language-bar-loading {
      background: linear-gradient(90deg, #1a2027, #2a313a, #1a2027); /* Darker gradient */
      background-size: 200% 100%;
      animation: loading 1.5s infinite; /* Reuse existing animation */
  }

  /* --- General Fixes --- */
  /* Ensure list groups used elsewhere are also themed */
   .list-group-item {
       background-color: var(--gh-dark-header-bg);
       border-color: var(--gh-dark-border);
       color: var(--gh-dark-text);
   }
   .list-group-item a {
        color: var(--gh-dark-link);
    }
   .list-group-item a:hover {
        color: #79c0ff; /* Lighter blue on hover */
    }
   .list-group-item-action:hover, .list-group-item-action:focus {
       background-color: var(--gh-dark-button-hover-bg);
       color: var(--gh-dark-text);
   }

    /* Fix sticky date header background in dark mode */
    #commitsList .list-group-item.sticky-top {
         background-color: var(--gh-dark-bg) !important; /* Match darker background */
         z-index: 10; /* Ensure it stays above items when scrolling */
     }

     #projectName {
      color: var(--gh-dark-text);
  }
   #projectDescription.text-muted { /* Ensure muted text is correctly styled */
       color: var(--gh-dark-secondary-text) !important;
   }


  /* PR Form Container (the white box) */
  .pr-form-container {
      background-color: var(--gh-dark-header-bg) !important; /* Use card background */
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
  }

  /* Header within the form container */
  .pr-form-header {
      background-color: var(--gh-dark-header-bg) !important; /* Match container */
      border-bottom: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text); /* Ensure title text is light */
  }
   .pr-form-title {
       color: var(--gh-dark-text);
   }


  /* Form content area */
  .pr-form-content {
      /* Usually doesn't need specific styling if container is styled */
      color: var(--gh-dark-text);
  }

  /* Branch Selector Dropdowns */
  .branch-selector {
      background-color: var(--gh-dark-bg) !important; /* Use darker input background */
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text) !important;
      border-radius: 6px; /* Ensure consistent rounding */
  }
   /* Style options within the select if needed (browser support varies) */
   .branch-selector option {
        background-color: var(--gh-dark-bg);
        color: var(--gh-dark-text);
    }

  /* Branch comparison arrow */
  .branch-arrow i {
      color: var(--gh-dark-secondary-text); /* Muted color for the arrow */
  }

  /* Form labels */
  .form-label {
      color: var(--gh-dark-text); /* Ensure labels are light */
      font-weight: 600;
  }

  /* Form helper text */
  .form-text {
      color: var(--gh-dark-secondary-text) !important; /* Muted color for help text */
  }

  /* Input fields (redundant if covered by general form rules, but good to be explicit) */
   .form-control {
        background-color: var(--gh-dark-bg) !important;
        border-color: var(--gh-dark-border) !important;
        color: var(--gh-dark-text) !important;
    }
   .form-control:focus {
        border-color: var(--gh-dark-link) !important;
        box-shadow: 0 0 0 0.2rem rgba(88, 166, 255, 0.25);
        background-color: var(--gh-dark-bg) !important; /* Ensure focus bg */
        color: var(--gh-dark-text) !important; /* Ensure focus text */
    }


  /* Compare Result Section (appears after clicking compare) */
  #compareResult h4 {
      color: var(--gh-dark-text);
  }
  .compare-summary {
      background-color: var(--gh-dark-bg) !important; /* Darker bg for summary box */
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-secondary-text); /* Muted text for summary */
      border-radius: 6px;
  }
  .compare-summary #diffStats .addition {
       color: #3fb950 !important; /* Ensure explicit color */
       font-weight: 600;
   }
  .compare-summary #diffStats .deletion {
       color: #f85149 !important; /* Ensure explicit color */
       font-weight: 600;
   }
   .compare-summary #diffStats span { /* Target non-addition/deletion spans */
        color: var(--gh-dark-secondary-text); /* Ensure these parts are muted */
    }
   /* Style the changed file list if it appears here */
   #compareResult .list-group {
        border: 1px solid var(--gh-dark-border);
        border-radius: 6px;
        overflow: hidden; /* Ensures rounding applies */
    }
   #compareResult .list-group-item {
        background-color: var(--gh-dark-header-bg) !important;
        border-bottom: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
    }
   #compareResult .list-group-item:last-child {
        border-bottom: none !important;
    }
     #compareResult .list-group-item .badge { /* Style add/del badges */
          color: #fff !important; /* White text on badges */
      }
     #compareResult .list-group-item .badge.bg-success {
          background-color: #238636 !important; /* GitHub dark green */
      }
     #compareResult .list-group-item .badge.bg-danger {
          background-color: #da3633 !important; /* GitHub dark red */
      }


  /* Buttons (Submit is covered by .btn-primary/.btn-success, style Cancel) */
  .pr-cancel-btn {
      background-color: var(--gh-dark-button-bg) !important;
      border-color: var(--gh-dark-border) !important;
      color: var(--gh-dark-button-text) !important;
  }
  .pr-cancel-btn:hover {
      background-color: var(--gh-dark-button-hover-bg) !important;
      border-color: var(--gh-dark-secondary-text) !important;
      color: var(--gh-dark-text) !important;
  }
   .pr-submit-btn { /* Ensure specific PR submit button uses primary style */
       background-color: var(--gh-dark-green-btn-bg) !important;
       border-color: var(--gh-dark-green-btn-bg) !important;
       color: var(--gh-dark-green-btn-text) !important;
   }
   .pr-submit-btn:hover {
       background-color: var(--gh-dark-green-btn-hover-bg) !important;
       border-color: var(--gh-dark-green-btn-hover-bg) !important;
       color: var(--gh-dark-green-btn-text) !important;
   }
   .pr-submit-btn:disabled { /* Style disabled submit button */
        background-color: #238636;
        border-color: #238636;
        color: rgba(255, 255, 255, 0.5);
        opacity: 0.6;
    }


        /* Page header */
        .container h2 { /* Target the main page H2 */
          color: var(--gh-dark-text);
     }
     .container p.text-muted { /* Target the subtitle */
          color: var(--gh-dark-secondary-text) !important;
     }
 
     /* Filter Buttons */
     .filter-btn {
         background-color: var(--gh-dark-button-bg);
         border-color: var(--gh-dark-border);
         color: var(--gh-dark-secondary-text); /* Muted color for inactive filters */
     }
     .filter-btn:hover {
         background-color: var(--gh-dark-button-hover-bg);
         border-color: var(--gh-dark-secondary-text);
         color: var(--gh-dark-text);
     }
     .filter-btn.active {
         background-color: var(--gh-dark-link) !important; /* Blue background for active filter */
         border-color: var(--gh-dark-link) !important;
         color: #ffffff !important; /* White text for active filter */
         font-weight: 600;
     }
     .filter-btn .filter-count {
         color: var(--gh-dark-secondary-text); /* Muted count */
         background-color: rgba(139, 148, 158, 0.2); /* Subtle background for count */
         padding: 1px 5px;
         border-radius: 8px;
         font-size: 11px;
         margin-left: 6px;
     }
     .filter-btn.active .filter-count {
          background-color: rgba(255, 255, 255, 0.2); /* Lighter background for count on active */
          color: #ffffff; /* White count text on active */
     }
 
      /* Dropdown filter buttons (Project, Author, Sort) */
      .dropdown .btn-outline-secondary { /* Targets Project, Author, Sort buttons */
           background-color: var(--gh-dark-button-bg);
           border-color: var(--gh-dark-border);
           color: var(--gh-dark-text);
       }
      .dropdown .btn-outline-secondary:hover {
           background-color: var(--gh-dark-button-hover-bg);
           border-color: var(--gh-dark-secondary-text);
           color: var(--gh-dark-text);
       }
 
     /* Pull Request Items */
     .pr-item {
         background-color: var(--gh-dark-header-bg) !important;
         border-color: var(--gh-dark-border) !important;
         color: var(--gh-dark-text);
     }
      .pr-item:hover {
          border-color: var(--gh-dark-secondary-text) !important; /* Slightly highlight border on hover */
          box-shadow: none; /* Remove light theme shadow */
      }
 
 
     .pr-header {
         border-bottom-color: var(--gh-dark-border) !important;
     }
 
     .pr-title a {
         color: var(--gh-dark-link) !important;
     }
      .pr-title a:hover {
           color: #79c0ff !important; /* Lighter blue on hover */
       }
 
 
     .pr-meta {
         color: var(--gh-dark-secondary-text) !important;
     }
     .pr-meta strong { /* Author name */
         color: var(--gh-dark-text);
     }
      .pr-meta .avatar-img { /* Avatar in meta */
           filter: brightness(0.9);
      }
 
 
     /* Project Badge */
     .project-badge {
         background-color: rgba(88, 166, 255, 0.15); /* Use theme blue, transparent */
         color: var(--gh-dark-link); /* Use theme blue */
         border: 1px solid rgba(88, 166, 255, 0.3);
     }
 
     /* Status Badges */
     .status-badge {
          border: 1px solid transparent; /* Add base border */
      }
 
     .status-open {
         background-color: rgba(46, 160, 67, 0.15); /* Green transparent */
         color: #3fb950 !important; /* Bright green text */
         border-color: rgba(46, 160, 67, 0.3);
     }
 
     .status-merged {
         background-color: rgba(139, 80, 255, 0.15); /* Purple transparent */
         color: #a371f7 !important; /* Bright purple text */
         border-color: rgba(139, 80, 255, 0.3);
     }
 
     .status-closed {
         background-color: rgba(248, 81, 73, 0.1); /* Red transparent */
         color: #f85149 !important; /* Bright red text */
         border-color: rgba(248, 81, 73, 0.3);
     }
 
     .pr-item .p-3 { /* Styling for the bottom part of the PR item */
          border-top: 1px solid var(--gh-dark-border);
          color: var(--gh-dark-text); /* Ensure description text is light */
      }
     .pr-item .p-3 .text-muted {
          color: var(--gh-dark-secondary-text) !important; /* Ensure small text is muted */
      }
 
 
     /* Empty State */
     .empty-state {
         background-color: var(--gh-dark-header-bg) !important;
         border-color: var(--gh-dark-border) !important;
     }
     .empty-state h3 {
         color: var(--gh-dark-text);
     }
     .empty-state .empty-state-icon i {
         color: var(--gh-dark-icon-color); /* Muted icon */
     }
     .empty-state p.text-muted {
         color: var(--gh-dark-secondary-text) !important;
     }
 
      /* Pagination */
      .pagination .page-link {
           background-color: var(--gh-dark-button-bg);
           border-color: var(--gh-dark-border);
           color: var(--gh-dark-link);
       }
      .pagination .page-link:hover {
           background-color: var(--gh-dark-button-hover-bg);
           border-color: var(--gh-dark-secondary-text);
       }
      .pagination .page-item.active .page-link {
           background-color: var(--gh-dark-link);
           border-color: var(--gh-dark-link);
           color: #ffffff;
       }
      .pagination .page-item.disabled .page-link {
           background-color: var(--gh-dark-button-bg);
           border-color: var(--gh-dark-border);
           color: var(--gh-dark-secondary-text);
           opacity: 0.5;
       }


      /* Breadcrumb (if different from other pages) */
      .breadcrumb-item a {
        color: var(--gh-dark-link) !important;
    }
    .breadcrumb-item.active {
        color: var(--gh-dark-secondary-text) !important; /* Muted color for active breadcrumb */
    }
    .breadcrumb-item + .breadcrumb-item::before {
         color: var(--gh-dark-secondary-text);
     }

    /* PR Header */
    .pr-header {
        background-color: var(--gh-dark-header-bg) !important;
        border: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
        border-radius: 6px; /* Added rounding */
    }
    .pr-title {
        color: var(--gh-dark-text);
    }
    .pr-meta {
        color: var(--gh-dark-secondary-text) !important;
    }
    .pr-meta strong { /* Author name in meta */
        color: var(--gh-dark-text);
    }
     #prAuthor strong { /* Author name below state */
         color: var(--gh-dark-text);
     }
     #prAuthor .text-muted { /* "created this pull request" text */
          color: var(--gh-dark-secondary-text) !important;
      }
      #editTitleBtn, #editDescriptionBtn { /* Edit buttons */
          background-color: var(--gh-dark-button-bg);
          border-color: var(--gh-dark-border);
          color: var(--gh-dark-secondary-text);
      }
      #editTitleBtn:hover, #editDescriptionBtn:hover {
          background-color: var(--gh-dark-button-hover-bg);
          border-color: var(--gh-dark-secondary-text);
          color: var(--gh-dark-text);
      }


    /* PR State Badges */
    .pr-state {
        border: 1px solid transparent; /* Base border */
        font-weight: 500;
    }
    .pr-state-open {
        background-color: rgba(46, 160, 67, 0.15) !important; /* Green transparent */
        color: #3fb950 !important; /* Bright green text */
        border-color: rgba(46, 160, 67, 0.3) !important;
    }
    .pr-state-merged {
        background-color: rgba(139, 80, 255, 0.15) !important; /* Purple transparent */
        color: #a371f7 !important; /* Bright purple text */
        border-color: rgba(139, 80, 255, 0.3) !important;
    }
    .pr-state-closed {
        background-color: rgba(248, 81, 73, 0.1) !important; /* Red transparent */
        color: #f85149 !important; /* Bright red text */
        border-color: rgba(248, 81, 73, 0.3) !important;
    }
    .pr-state i { /* Ensure icon color matches text */
        color: inherit !important;
    }

    /* PR Tabs */
    .pr-tabs {
        background-color: var(--gh-dark-header-bg) !important; /* Match card bg */
        border: 1px solid var(--gh-dark-border) !important;
        border-bottom: none !important; /* Remove bottom border from container */
        border-radius: 6px 6px 0 0; /* Round top corners */
    }
    .pr-tab {
        color: var(--gh-dark-secondary-text);
        border-bottom: 2px solid transparent; /* Ensure transparent bottom border */
        margin-bottom: -1px; /* Overlap the bottom border of the content */
    }
    .pr-tab:hover {
        color: var(--gh-dark-text);
        border-bottom-color: var(--gh-dark-border); /* Subtle hover border */
    }
    .pr-tab.active {
        color: var(--gh-dark-text) !important;
        border-bottom-color: var(--gh-dark-link) !important; /* Blue active border */
        font-weight: 600;
    }
    .pr-tab i {
        color: inherit; /* Let icon inherit tab color */
    }
    .pr-tab .badge { /* Commits/Files count badge */
        background-color: var(--gh-dark-button-bg) !important;
        color: var(--gh-dark-secondary-text) !important;
        border: 1px solid var(--gh-dark-border);
    }
    .pr-tab.active .badge {
         background-color: var(--gh-dark-link) !important;
         color: #fff !important;
         border-color: var(--gh-dark-link) !important;
    }


    /* PR Tab Content Area */
    .pr-content {
        background-color: var(--gh-dark-header-bg) !important;
        border: 1px solid var(--gh-dark-border) !important;
        border-top: none !important; /* Remove top border, handled by tabs */
        color: var(--gh-dark-text);
        border-radius: 0 0 6px 6px; /* Round bottom corners */
    }

    /* Conversation/Timeline */
    .pr-timeline .timeline-item::before { /* The vertical line */
        background-color: var(--gh-dark-border);
    }
    .pr-timeline .timeline-icon {
        background-color: var(--gh-dark-bg) !important; /* Match body bg */
        border: 2px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-secondary-text) !important;
    }
    .pr-timeline .timeline-content { /* Comment box style */
        background-color: var(--gh-dark-header-bg) !important; /* Match card bg */
        border: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
    }
    .pr-timeline .comment-author {
        color: var(--gh-dark-text);
        font-weight: 600;
    }
    .pr-timeline .comment-time {
        color: var(--gh-dark-secondary-text) !important;
    }
    .pr-timeline .comment-body {
        color: var(--gh-dark-text);
    }
    .pr-timeline .avatar-img-large, #currentUserAvatar { /* Avatars */
        filter: brightness(0.9);
    }
    .review-badge { /* Review status badges in timeline */
         border: 1px solid transparent;
         font-weight: 500;
     }
    .review-approved {
         background-color: rgba(46, 160, 67, 0.15) !important;
         color: #3fb950 !important;
         border-color: rgba(46, 160, 67, 0.3) !important;
     }
    .review-changes {
         background-color: rgba(248, 81, 73, 0.1) !important;
         color: #f85149 !important;
         border-color: rgba(248, 81, 73, 0.3) !important;
     }
    .review-comment {
         background-color: rgba(139, 80, 255, 0.15) !important;
         color: #a371f7 !important;
         border-color: rgba(139, 80, 255, 0.3) !important;
     }


    /* Add Comment Form */
    #commentFormContainer .timeline-content { /* Override default timeline content */
         background-color: transparent !important;
         border: none !important;
         padding: 0 !important; /* Remove padding */
     }
    #commentInput { /* Textarea inherits from form-control rule */
          background-color: var(--gh-dark-bg) !important;
          border-color: var(--gh-dark-border) !important;
          color: var(--gh-dark-text) !important;
    }
     #commentInput::placeholder {
         color: var(--gh-dark-secondary-text);
         opacity: 0.7;
     }
    #submitCommentBtn { /* Style like primary green button */
        background-color: var(--gh-dark-green-btn-bg);
        border-color: var(--gh-dark-green-btn-bg);
        color: var(--gh-dark-green-btn-text);
    }
    #submitCommentBtn:hover {
         background-color: var(--gh-dark-green-btn-hover-bg);
         border-color: var(--gh-dark-green-btn-hover-bg);
         color: var(--gh-dark-green-btn-text);
     }


    /* Commits Tab */
    #commitsTab .commit-item { /* Container for each commit */
         background-color: var(--gh-dark-header-bg) !important;
         border-color: var(--gh-dark-border) !important;
         color: var(--gh-dark-text);
     }
    #commitsTab .commit-header { /* Header within commit item */
         background-color: transparent; /* No extra background */
         border-bottom-color: var(--gh-dark-border);
     }
    #commitsTab .commit-title {
         color: var(--gh-dark-text);
     }
    #commitsTab .commit-meta {
         color: var(--gh-dark-secondary-text) !important;
     }
    #commitsTab .commit-meta strong {
         color: var(--gh-dark-text);
     }
      #commitsTab .avatar-img-medium {
           filter: brightness(0.9);
      }


    /* Files Tab */
    #filesTab .diff-file {
         border-color: var(--gh-dark-border) !important;
         background-color: var(--gh-dark-header-bg) !important; /* Match card background */
         border-radius: 6px;
         overflow: hidden; /* Important for rounding */
     }
    #filesTab .diff-header {
         background-color: var(--gh-dark-bg) !important; /* Darker header for diff */
         border-bottom-color: var(--gh-dark-border) !important;
         color: var(--gh-dark-secondary-text) !important;
     }
     #filesTab .diff-header strong { /* File path */
          color: var(--gh-dark-text);
     }
     #filesTab .diff-stats span {
         font-weight: 600;
     }
    #filesTab .diff-additions { color: #3fb950 !important; }
    #filesTab .diff-deletions { color: #f85149 !important; }

     /* Style diff table lines within Files tab */
     #filesTab .diff-table {
          background-color: var(--gh-dark-bg) !important; /* Darkest bg for code */
      }
     #filesTab .diff-line { color: var(--gh-dark-text); }
     #filesTab .diff-line:hover { background-color: rgba(88, 166, 255, 0.05); }
     #filesTab .diff-line-num {
         background-color: var(--gh-dark-header-bg);
         border-right-color: var(--gh-dark-border) !important;
         color: var(--gh-dark-secondary-text) !important;
     }
     #filesTab .diff-add { background-color: var(--gh-dark-diff-add-bg) !important; }
     #filesTab .diff-add .diff-line-num { background-color: rgba(46, 160, 67, 0.1); border-color: rgba(46, 160, 67, 0.3) !important; }
     #filesTab .diff-del { background-color: var(--gh-dark-diff-del-bg) !important; }
     #filesTab .diff-del .diff-line-num { background-color: rgba(248, 81, 73, 0.1); border-color: rgba(248, 81, 73, 0.3) !important; }
     #filesTab .diff-hunk-header {
         background-color: rgba(88, 166, 255, 0.1) !important;
         color: var(--gh-dark-secondary-text);
     }
     #filesTab .diff-hunk-header .diff-line-num {
         background-color: rgba(88, 166, 255, 0.15) !important;
         border-color: rgba(88, 166, 255, 0.3) !important;
     }


    /* Sidebar */
    .pr-sidebar-section {
        background-color: var(--gh-dark-header-bg) !important;
        border: 1px solid var(--gh-dark-border) !important;
        color: var(--gh-dark-text);
    }
    .pr-sidebar-header {
        border-bottom-color: var(--gh-dark-border) !important;
        color: var(--gh-dark-text); /* Header text */
        font-weight: 600;
    }
    .pr-sidebar-content {
         color: var(--gh-dark-text); /* Content text */
     }
     .pr-sidebar-content .text-muted {
         color: var(--gh-dark-secondary-text) !important;
     }
     .pr-sidebar-content strong {
          color: var(--gh-dark-text);
     }
     .pr-sidebar-content .btn-outline-secondary { /* Add reviewers btn */
         background-color: var(--gh-dark-button-bg);
         border-color: var(--gh-dark-border);
         color: var(--gh-dark-button-text);
     }
      .pr-sidebar-content .btn-outline-secondary:hover {
         background-color: var(--gh-dark-button-hover-bg);
         border-color: var(--gh-dark-secondary-text);
         color: var(--gh-dark-text);
     }


    /* Merge Section */
    #mergeStatusText .text-success { color: #3fb950 !important; }
    #mergeStatusText .text-danger { color: #f85149 !important; }
    #closePrButton { /* Already .btn-outline-danger, style it */
         color: #f85149 !important;
         border-color: var(--gh-dark-border) !important;
         background-color: var(--gh-dark-button-bg) !important;
     }
      #closePrButton:hover {
           color: #ffffff !important;
           border-color: #f85149 !important;
           background-color: #f85149 !important;
       }
       #closePrButton:disabled { /* Ensure disabled state is clear */
            color: var(--gh-dark-secondary-text) !important;
            background-color: var(--gh-dark-button-bg) !important;
            border-color: var(--gh-dark-border) !important;
            opacity: 0.5;
       }


    /* Review Section */
    #reviewSection p.small {
         color: var(--gh-dark-secondary-text);
     }
     #requestChangesBtn { /* .btn-danger */
         background-color: #da3633;
         border-color: #da3633;
         color: #ffffff;
      }
     #requestChangesBtn:hover {
          background-color: #b62324;
          border-color: #b62324;
          color: #ffffff;
      }
     #commentBtn { /* .btn-secondary */
          background-color: var(--gh-dark-button-bg);
          border-color: var(--gh-dark-border);
          color: var(--gh-dark-button-text);
      }
      #commentBtn:hover {
           background-color: var(--gh-dark-button-hover-bg);
           border-color: var(--gh-dark-secondary-text);
           color: var(--gh-dark-text);
      }

     /* Modals (Check if general modal styles are sufficient) */
      .modal-content {
         background-color: var(--gh-dark-header-bg) !important;
         border-color: var(--gh-dark-border) !important;
         color: var(--gh-dark-text);
      }
      .modal-header {
          border-bottom-color: var(--gh-dark-border) !important;
      }
      .modal-header .btn-close {
           filter: invert(1) grayscale(100%) brightness(200%); /* White close button */
       }
      .modal-footer {
           border-top-color: var(--gh-dark-border) !important;
       }

        body.dark-theme .btn-outline-dark,
    [data-theme="dark"] .btn-outline-dark {
        color: #e6edf3;
        border-color: #8b949e;
        background-color: transparent;
    }

    body.dark-theme .btn-outline-dark:hover,
    [data-theme="dark"] .btn-outline-dark:hover {
        color: #ffffff;
        background-color: #30363d;
        border-color: #8b949e;
    }

    body.dark-theme .btn-outline-dark:focus,
    [data-theme="dark"] .btn-outline-dark:focus,
    body.dark-theme .btn-outline-dark:active,
    [data-theme="dark"] .btn-outline-dark:active {
        color: #ffffff;
        background-color: #30363d;
        border-color: #8b949e;
        box-shadow: 0 0 0 0.25rem rgba(139, 148, 158, 0.5);
    }

    /* Make profile card background darker in dark mode */
    body.dark-theme .card,
    [data-theme="dark"] .card {
        background-color: #1f2937;
        border-color: #30363d;
    }

    /* Make text in profile card more visible in dark mode */
    body.dark-theme .card-body h5,
    [data-theme="dark"] .card-body h5 {
        color: #e6edf3;
    }

    body.dark-theme .text-muted,
    [data-theme="dark"] .text-muted {
        color: #8b949e !important;
    }

    /* Fix shadow in dark mode */
    body.dark-theme .shadow-sm,
    [data-theme="dark"] .shadow-sm {
        box-shadow: 0 .125rem .25rem rgba(0,0,0,.3) !important;
    }


           /* Target the specific timeline-content box holding the PR description */
    #conversationTab > .mb-4 > .d-flex > .timeline-content {
      background-color: var(--gh-dark-header-bg) !important; /* Use card background */
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
      border-radius: 6px; /* Ensure rounding */
      padding: 16px; /* Ensure padding */
  }

  #conversationTab .timeline-content .comment-author {
      color: var(--gh-dark-text); /* Ensure author is light */
      font-weight: 600;
  }
  #conversationTab .timeline-content .comment-time {
      color: var(--gh-dark-secondary-text) !important; /* Ensure time is muted */
  }
  #conversationTab .timeline-content .comment-body {
      color: var(--gh-dark-text); /* Ensure body text is light */
  }

  /* Style the Edit Description Button */
  #editDescriptionBtn {
       background-color: var(--gh-dark-button-bg);
       border-color: var(--gh-dark-border);
       color: var(--gh-dark-secondary-text); /* Use muted color for edit */
   }
  #editDescriptionBtn:hover {
       background-color: var(--gh-dark-button-hover-bg);
       border-color: var(--gh-dark-secondary-text);
       color: var(--gh-dark-text); /* Brighter on hover */
   }
   #editDescriptionBtn i {
        color: inherit; /* Icon color matches button text */
    }


  /* Reinforce general timeline content styling (from previous step, ensure it exists) */
  .pr-timeline .timeline-content {
      background-color: var(--gh-dark-header-bg) !important;
      border: 1px solid var(--gh-dark-border) !important;
      color: var(--gh-dark-text);
      border-radius: 6px;
      padding: 16px;
  }

  
  
  } /* End of html[data-theme="dark"] */